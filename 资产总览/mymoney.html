<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>资产总览</title>
</head>
<link rel="stylesheet" href="./css/index.css">
<script src="/js/fontsize.js"></script>
<script src="/js/vue.min.js"></script>
<script src="/js/request.js"></script>

<body>
    <div id=loadingDiv
        style="position: fixed;width:100vw;height: 100vh; background:#E9EDF0;z-index:999;display: flex;flex-direction: column;justify-content: center;align-items: center;">
        <img src="./img/loading.gif" style="width:50px;height:50px;">
        <span>加载中...</span>
    </div>
    <div id="page">
        <div class="main">
            <div class="title">资产总览</div>

            <div class="allMoneyBox">
                <div class="zichan">
                    <div class="zichan-title">总资产</div>
                    <div class="money">{{wallet.allmoney}}</div>
                </div>
            </div>
            <div class="rowItem rowItem-margin-top">
                <div class="leftone flex">
                    <div class="number">{{wallet.currentEnableIntegral }}</div>
                    <div class="label">消费券</div>
                </div>
                <div class="rightone flex">
                    <div class="number">{{wallet.currentLockIntegral }}</div>
                    <div class="label">兑换券</div>
                </div>
            </div>
            <div class="rowItem rowItem-bottom-margin">
                <div class="leftone flex">
                    <div class="number">{{wallet.shareFee}}</div>
                    <div class="label">共享积分</div>
                </div>
                <div class="rightone flex">
                    <div class="number">{{wallet.currentGoodsFee }}</div>
                    <div class="label">货款收入</div>
                </div>
            </div>
            <div class="kong"></div>
        </div>

        <div class="list" @click="toSomewhere($event)">
            <div id="zichan" class="listItem " @click='toRecord($event)'>
                <div class="name">资产总记录</div>
                <img src="./img/arrow.png" class="arrow" alt="">
            </div>
            <div id="shengji" class="listItem ">
                <div class="name">升级积分</div>
                <img src="./img/arrow.png" class="arrow" alt="">
            </div>
            <div id="xianjin" class="listItem ">
                <div class="name">现金消费</div>
                <img src="./img/arrow.png" class="arrow" alt="">
            </div>
            <div id="tuijian" class="listItem ">
                <div class="name">推荐业绩积分</div>
                <img src="./img/arrow.png" class="arrow" alt="">
            </div>
            <div id="jifen" class="listItem ">
                <div class="name">积分消费</div>
                <img src="./img/arrow.png" class="arrow" alt="">
            </div>
            <div id="fenhong" class="listItem ">
                <div class="name">分红积分</div>
                <img src="./img/arrow.png" class="arrow" alt="">
            </div>
            <div id="gongxiang" class="listItem ">
                <div class="name">共享奖励</div>
                <img src="./img/arrow.png" class="arrow" alt="">
            </div>
            <div id="shangcheng" class="listItem ">
                <div class="name">商城收益</div>
                <img src="./img/arrow.png" class="arrow" alt="">
            </div>
            <div id="xianshang" class="listItem ">
                <div class="name">o2o收益</div>
                <img src="./img/arrow.png" class="arrow" alt="">
            </div>
            <div id="huokuan" class="listItem ">
                <div class="name">货款收入</div>
                <img src="./img/arrow.png" class="arrow" alt="">
            </div>
            <div class="kong"></div>
            <div id="pingou" class="listItem ">
                <div class="name">拼购收益</div>
                <img src="./img/arrow.png" class="arrow" alt="">
            </div>
            <div id="guanggao" class="listItem ">
                <div class="name">广告收益</div>
                <img src="./img/arrow.png" class="arrow" alt="">
            </div>
        </div>
    </div>

    </div>

</body>
<script>


    new Vue({
        el: "#page",
        data: {
            wallet: ''
        },
        mounted() {
            getRequest(api.walletInfo, '', res => {
                console.log(res);
                // currentConsumeVolume	当前可用优惠券	number
                // currentEnableIntegral	当前消费券	number
                // currentGoodsFee	当前可用货款	number
                // currentLockIntegral	当前兑换券	number
                res.allmoney = res.currentEnableIntegral + res.currentLockIntegral + res.shareFee + res.currentGoodsFee;
                res.allmoney = res.allmoney.toFixed(6);
                this.wallet = res;
            })
        },
        methods: {
            toSomewhere(e) {
                console.log(e)
                let target = e.srcElement || e.target;
                if (target.id == 'zichan') {
                    location.href = "./record.html"
                } else if (target.id) {
                    location.href = "./part.html?type=" + target.id;
                }
            }
        },

    })
</script>

</html>